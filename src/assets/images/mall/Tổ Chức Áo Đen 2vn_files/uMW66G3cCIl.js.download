if (self.CavalryLogger) { CavalryLogger.start_js(["bh2j7"]); }

__d("MFirefoxAppDetect",[],(function(a,b,c,d,e,f){function a(a,b){if(!navigator.mozApps){b();return}if(window.locationbar&&!window.locationbar.visible){a();return}if(navigator.mozApps.getSelf){var c=navigator.mozApps.getSelf();c.onsuccess=function(){c.result?a():b()};c.onerror=b}else b()}f.isFirefoxApp=a}),null);
__d("MPageHeaderLeft",["DOM","MFirefoxAppDetect","$"],(function(a,b,c,d,e,f){f.main=i;var g={};function h(a){if(!g.back_button){var c=b("$")("page");g.back_button=b("DOM").find(c,"a","back-button");g.menu_button=b("DOM").find(c,"a","menu-link")}a.show_back_button?(b("DOM").hide(g.menu_button),b("DOM").show(g.back_button)):(b("DOM").hide(g.back_button),b("DOM").show(g.menu_button))}function i(a){var c=window.navigator;c.standalone||g.isMozApp?h(a):g.isMozApp===void 0&&(g.lastConfig=a,b("MFirefoxAppDetect").isFirefoxApp(function(){g.isMozApp=!0,a===g.lastConfig&&(i(a),delete g.lastConfig)},function(){g.isMozApp=!1}))}}),null);
__d("MLoadingIndicator.react",["cx","IndicatorType","MJSAnimator","MJSEnvironment","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("MJSEnvironment").IS_APPLE_WEBKIT_IOS,j=b("MJSEnvironment").IS_ANDROID&&b("MJSEnvironment").OS_VERSION<4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){j&&(this.$1=new(b("MJSAnimator"))(b("ReactDOM").findDOMNode(this.refs.spinner),b("IndicatorType").ANDROID_NONROTATING,!1),this.$1.start())};d.componentWillUnmount=function(){this.$1&&(this.$1.cleanup(),this.$1=null)};d.getClassName=function(){return b("joinClasses")(this.props.className,(j?"":"_55on")+" _2so"+(this.props.background==="dark"?" _2st":"")+(this.props.background==="light"?" _2ss":"")+(this.props.size==="large"?" _2sq":"")+(this.props.size==="small"?" _2sp":"")+(!j&&!i?" _50cg":"")+(i?" _50ch":"")+(j?" _2su":""))};d.render=function(){return h.jsx("div",{ref:"spinner",className:this.getClassName(),children:this.renderGradientIfNeeded()})};d.renderGradientIfNeeded=function(){return j||!i?null:h.jsx("div",{className:"_2sr _55on"})};return c}(h.Component);e.exports=a;a.defaultProps={background:"light",size:"large"}}),null);
__d("MXUILayout.react",["cx","MXUIDiv.react","React","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");function i(a){return(a==="start"?"_52wc":"")+(a==="end"?" _52wd":"")+(a==="center"?" _52we":"")+(a==="stretch"?" _52wf":"")}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={align:c.props.align},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.hasAlignSelfChildren=function(){var a=h.Children.toArray(this.props.children);for(var b=0;b<a.length;b++){var c=a[b].props;if(c instanceof Object&&Object.prototype.hasOwnProperty.call(c,"alignself"))return!0}return!1};d.render=function(){var a=this,c=this.props,d=c.align,e=c.className,f=c.children;c=babelHelpers.objectWithoutPropertiesLoose(c,["align","className","children"]);var g="_4g33",j;this.hasAlignSelfChildren()?j=h.Children.toArray(f).map(function(b){var c=b.props;return c instanceof Object&&Object.prototype.hasOwnProperty.call(c,"alignself")?b:h.cloneElement(b,{alignself:a.state.align})}):(j=f,g=b("joinClasses")(i(d),g));return h.jsx(b("MXUIDiv.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(e,g),children:j}))};return c}(h.Component);e.exports=a;a.defaultProps={align:"stretch"}}),null);
__d("MXUILayoutColumn.react",["cx","MJSEnvironment","MXUIDiv.react","React","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");function i(a){return(a==="start"?"_52wc":"")+(a==="end"?" _52wd":"")+(a==="center"?" _52we":"")+(a==="stretch"?" _52wf":"")}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.alignself,e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","alignself","children"]);if(Object.prototype.hasOwnProperty.call(this.props,"alignself")){c=b("joinClasses")(c,"_5i2i",i(d));if(b("MJSEnvironment").IS_FIREFOX)return h.jsx(b("MXUIDiv.react"),babelHelpers["extends"]({},a,{className:c,children:h.jsx(b("MXUIDiv.react"),{className:"_5xu4",children:e})}))}return h.jsx(b("MXUIDiv.react"),babelHelpers["extends"]({},a,{className:c,children:e}))};return c}(h.Component);e.exports=a}),null);
__d("MXUILayoutFillColumn.react",["cx","MXUILayoutColumn.react","React","joinClasses"],(function(a,b,c,d,e,f,g){e.exports=a;var h=b("React");function a(a){var c="_4g34";return h.jsx(b("MXUILayoutColumn.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(a.className,c),children:a.children}))}}),null);
__d("MUFICommentReplyLink",["DOM","MAjaxify","MParent","MRequest","MUFIConfig","MUFIInlineRepliesFunnelLogConfig","Stratcom","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f){"use strict";f.initInlineRepliesWithMention=a;f.bindFocusInlineReplyComposerAfterPageFinish=c;f.focusOrLoadInlineReplyComposerWithMention=i;var g="feed-ufi-comments",h=b("MUFIInlineRepliesFunnelLogConfig").MUFIInlineReplyComposerFunnelLogger;function a(a){var c=a.composerID,d=a.placeholderID,e=a.node,f=a.loadComposerURI,g=a.loggingTargetFBID,h=a.replyAuthorName,j=a.replyAuthorID;b("MUFIConfig").canReactToComment&&(e.href&&e.setAttribute("data-uri",e.href),e.removeAttribute("href"));var k=new(b("SubscriptionsHandler"))();k.addSubscriptions(b("DOM").listen(e,"click",null,function(a){i({composerID:c,placeholderID:d,loadComposerURI:f,loggingTargetFBID:g,replyAuthorName:h,replyAuthorID:j,onPreventDefault:function(){a.prevent()}})}),b("DOM").listen(e,"mousedown",null,function(a){b("Stratcom").invoke("MCommentComposer:replyButtonClick",null,{composerID:c})}),b("Stratcom").listen("m:page:unload",null,function(){k.release()}),b("Stratcom").listen("m:feed-ufi-flyout:reset",null,function(){k.release()}))}function c(a){var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Stratcom").listen("obj:finally",null,function(d){d=b("DOM").scry(a,"*","mufi-composer")[0];d&&d.focus&&d.focus();c.release()}))}function i(a){var c=a.composerID,d=a.placeholderID,e=a.loadComposerURI,f=a.loggingTargetFBID;a=a.onPreventDefault;f&&h&&h.logReplyClicked(f);f=b("ge")(c);c=f&&b("DOM").scry(f,"*","mufi-composer")[0];if(c){a();b("MParent").bySigil(f,g)?b("Stratcom").invoke("MUFICommentReplyLink:show-inline-composer",null,{composerRoot:f}):c.focus();return}f=b("ge")(d);if(f&&e){a();b("MAjaxify").ajaxify(null,f,new(b("MRequest"))(e),null);return}}}),null);
__d("MPhotoStagePrefetch",["MLinkHack","MPageCache","MPageController","MPageFetcher"],(function(a,b,c,d,e,f){"use strict";f.prefetch=a;function a(a){a=b("MLinkHack").getHref(a);if(a==null)return;!b("MPageCache").isPageCached(a,b("MPageController").EXPERIMENTAL_USER_EXPIRE_MS)&&b("MPageFetcher").getPrefetchState(a)===null&&b("MPageFetcher").prefetch(a)}}),null);
__d("MTouchAfro",["csx","cx","fbt","CSS","DOM","MHome","MLegacyDataStore","MModalDialog","MPageCache","MPageController","MRequest","MXUIDiv.react","Parent","React","ReactDOM","Stratcom","$","ge","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=null,l=null,m=null,n={renderNFXReport:function(a,c){b("setTimeoutAcrossTransitions")(function(){b("CSS").hide(a),n.openDialog(c)},500)},initUndoHide:function(){if(k!==null)return;k=b("Stratcom").listen("click","afro-undo-hide",function(a){a=a.getNode("undo-content");var c=b("MLegacyDataStore").get(a).storyDomID;b("DOM").hide(a);b("DOM").show(b("$")(c))});b("Stratcom").listen("m:page:unload",null,function(){k.remove(),b("Stratcom").removeCurrentListener()})},hideOriginalContent:function(a){b("DOM").hide(b("$")(a));if(b("gkx")("1262495")){a=b("MPageController").getRenderedPath();a!==null&&b("MHome").isHome(a)&&b("MPageCache").removeCachedPage(a)}},initDoneListener:function(a,c){if(l!==null)return;l=b("Stratcom").listen("click","nfx-dialog-done",function(d){if(a){d=b("$")(a);if(d){var e=b("MLegacyDataStore").get(d).enhancedAfro;e&&b("CSS").addClass(d,"_2gft")}b("ReactDOM").render(j.jsx(b("MXUIDiv.react"),{padding:"large",fontshade:"medium",fontweight:"bold",children:i._("C\u1ea3m \u01a1n b\u1ea1n \u0111\u00e3 b\u00e1o c\u00e1o.")}),b("$")(a));if(c){e=b("ge")(c);e&&(b("DOM").remove(e),b("CSS").removeClass(b("Parent").bySelector(b("$")(a),"._2b01"),"_2b01"))}}b("MModalDialog").close()});b("Stratcom").listen("m:page:unload",null,function(){l.remove(),b("Stratcom").removeCurrentListener()})},showConfirmationPopup:function(a,c){a=confirm(a);if(a){a=new(b("MRequest"))(c);a.send()}},showInlineConfirmation:function(a,c){a=b("$")(a);b("DOM").hide(a);b("DOM").insertAfter(a,c);a=b("DOM").scry(c,"a","touchable");a[0]&&a[0].focus()},redirect:function(a,c){if(!c)window.location=a;else{c=new(b("MRequest"))(a);c.send()}},redirectOnClick:function(a,c){b("Stratcom").listen("click",c,function(b){window.location=a})},openDialog:function(a){b("MModalDialog").open(a)},openDialogOnClick:function(a,c){var d=b("Stratcom").listen("click",c,function(c){b("MModalDialog").open(a)});b("Stratcom").listen("m:page:unload",null,function(){d.remove(),b("Stratcom").removeCurrentListener()})},initActionsTakenStore:function(){if(m!==null)return;m=new Set();var a=b("Stratcom").listen("m-nfx-action-taken",null,function(a){return m.add(a.getData())});b("Stratcom").listen("m:page:unload",null,function(){a.remove(),b("Stratcom").removeCurrentListener()})},clearActionsTakenStore:function(){m=new Set()},invokeActionTaken:function(a){b("Stratcom").invoke("m-nfx-action-taken",null,a)},checkActionAgainstStore:function(a){var c=b("MLegacyDataStore").get(a);a=!1;m.forEach(function(b){b.action===c.action&&b.label===c.label&&(a=!0)});return a},addCancelButtonListener:function(){var a=b("$")("modalDialog");b("DOM").listen(a,"click","dialog-cancel-button-alt",function(a){a.kill();b("MModalDialog").close();return})},dialogLoadConfirmationScreenOnClick:function(a){b("DOM").listen(a,"click",null,function(a){a.kill();b("MModalDialog").close();return})},logReportAdLinkClick:function(a,c){var d=b("DOM").listen(a,"click",null,function(){new(b("MRequest"))(c).send()});b("Stratcom").listen("m:page:unload",null,function(){d.remove(),b("Stratcom").removeCurrentListener()})},setupWildeDoneButton:function(){window.addEventListener("fbActionButtonClick",function(){return window.__fbNative.close()})}};e.exports=n}),null);
__d("FRXFunnelLoggerUtil",["CurrentUser"],(function(a,b,c,d,e,f){f.getSessionKey=a;function a(a){var c=b("CurrentUser").getAccountID();if(a==null)return c;else return c+"#"+a}}),null);
__d("MFRXWebFunnelLogger",["Event","FRXFunnelLoggerUtil","Stratcom","WebFunnelLogger"],(function(a,b,c,d,e,f){var g={startcomListeners:[],get:function(a,c){c=b("FRXFunnelLoggerUtil").getSessionKey(c);return new(b("WebFunnelLogger"))("FRXMSiteFunnelDefinition").setAction(a).setSessionKey(c)},createFunnelTagList:function(a,b,c){return["entry_point: "+a,"is_frx: true","object_id: "+b,"surface: "+c]},attachClickLogging:function(a,c,d,e,f){b("Event").listen(a,"click",function(){var a=g._getLoggerForXHP(c,d,e,f);a.log()})},removeStratcomListeners:function(){for(var a=g.startcomListeners,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.remove()}g.startcomListeners=[]},attachStratcomClickLogging:function(a,c,d,e,f){a=b("Stratcom").listen("click",a,function(a){a=g._getLoggerForXHP(c,d,e,f);a.log();b("Stratcom").removeCurrentListener()});g.startcomListeners.push(a)},logEvent:function(a,b,c,d){a=g._getLoggerForXHP(a,b,c,d);a.log()},_getLoggerForXHP:function(a,b,c,d){a=g.get(a,b);if(c!=null){b=Object.entries(c);for(var c=0;c<b.length;c++){var e=b[c],f=e[0];e=e[1];a.addActionPayload(f,e)}}d!=null&&a.setFunnelTags(d);return a}};e.exports=g}),null);
__d("MTouchTransferFocus",["CSS","DOM","MLegacyDataStore","MViewport","Stratcom"],(function(a,b,c,d,e,f){var g="transfer-focus-container",h="focus-provider",i="focus-receiver",j="focused";b("Stratcom").listen(["click","touchend"],[g,h],function(a){var c=a.getNode(h),d=b("MLegacyDataStore").get(c);if(d.onclickIsSet)return;var e=a.getNode(g);c.onclick=function(){b("CSS").conditionClass(e,j,!0);var a=b("DOM").scry(e,"input",i)[0];if(a){a.focus();a=b("MLegacyDataStore").get(e);a.hideaddressbar&&setTimeout(function(){b("MViewport").getScrollTop()<1&&b("MViewport").scrollTo(0,1)},0)}};d.onclickIsSet=!0});b("Stratcom").listen("blur",[g,i],function(a){b("CSS").conditionClass(a.getNode(g),j,!1)})}),null);
__d("MTypeaheadTouchSourceWithSuggestions",["MTypeaheadTouchSource","createDeprecatedProperties","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c)||this;b.setSuggestions(d);c=[];for(var e=0;e<d.length;++e)c.push(d[e].uid);b.setSuggestionsIds(c);b.setDefaultSuggestionsIds(c);return b}var d=c.prototype;d.didStart=function(){var a=this;b("MTypeaheadTouchSource").prototype.didStart.call(this);b("setTimeoutAcrossTransitions")(function(){var b=a.renderNodes(null,a.getSuggestionsIds());a.invoke("resultsready",b);a.invoke("complete")},0)};d.matchResults=function(a){if(a.length===0){var c=this.getSuggestionsIds();this.getSuggestionsIds().length===0&&(c=this.getDefaultSuggestionsIds());c=this.renderNodes(null,c);this.invoke("resultsready",c);this.invoke("complete")}else b("MTypeaheadTouchSource").prototype.matchResults.call(this,a)};return c}(b("MTypeaheadTouchSource"));b("createDeprecatedProperties")(a,{suggestions:[],suggestionsIds:[],defaultSuggestionsIds:[]});e.exports=a}),null);
__d("MCommentActionsFlyout",["cx","Bootloader","CSS","DOM","MActionBubbleHelper","MFRXWebFunnelLogger","MLegacyDataStore","MModalDialog","MParent","MRequest","QE2Logger","Stratcom","URI","qex"],(function(a,b,c,d,e,f,g){f.registerFlyout=a;var h,i="ban_user_from_page_comment_sigil",j="editCommentSigil",k="editHistoryCommentSigil",l="deleteCommentSigil",m="deleteCommentAndBlockAuthorSigil",n="deleteCommentAndRemoveAuthorSigil",o="hideCommentSigil",p="muteMemberSigil",q="reportCommentSigil",r="commentFlyoutSigil",s="removeTagSigil",t=!1;function u(a,c,d){a=b("DOM").find(a,"*",c);b("MActionBubbleHelper").toggleActionBubbleItem(a,d,"MCommentActionsFlyout",c)}function v(a,c,d){var e=b("DOM").find(a,"*",c),f=!!d.groupMuteCommenterInfo;b("MActionBubbleHelper").toggleActionBubbleItem(e,f,"MCommentActionsFlyout",c);if(f&&c===p){e=b("DOM").scry(a,"*",c)[0];b("CSS").conditionClass(e,"_4ob2",!d.groupMuteCommenterInfo.is_commenter_muted)}}function w(a){a=b("MParent").bySigil(a,"comment-metadata");return a}function x(a,c){c=b("MLegacyDataStore").get(c);a.addQueryData("_ft_",c.linkdata)}function y(a,c){x(c,a);a=new(b("MRequest"))(c);a.send()}function z(a,c,d){b("MModalDialog").open(c,d)}function A(){var a=w(this.getCausalElement()),c=this.getRoot();if(a==null)return;a=b("MLegacyDataStore").get(a);u(c,j,!!a.editCommentURI);u(c,k,!!a.editHistoryCommentURI);u(c,l,!!a.deleteCommentURI);u(c,m,!!a.deleteCommentAndBlockAuthorURI);u(c,n,!!a.deleteCommentAndRemoveAuthorURI);u(c,o,!!a.hideCommentURI);v(c,p,a);u(c,q,!!a.reportCommentURI);u(c,i,!!a.banUserFromPageURIParams&&!t);u(c,s,!!a.removeTagURI&&B())}function B(){if(b("qex")._("1015319")===!0){var a=b("qex")._("1015313")===!0;b("QE2Logger").logExposureForUser("obe_frx_experiments");return a}return!1}function C(a){var c=b("MLegacyDataStore").get(a.getNode(r)),d=w(c.layer.getCausalElement());if(d==null)return;var e=b("MLegacyDataStore").get(d);if(a.getNode(j))y(d,new(h||(h=b("URI")))(e.editCommentURI));else if(a.getNode(k))y(d,new(h||(h=b("URI")))(e.editHistoryCommentURI));else if(a.getNode(l))y(d,new(h||(h=b("URI")))(e.deleteCommentURI));else if(a.getNode(m))y(d,new(h||(h=b("URI")))(e.deleteCommentAndBlockAuthorURI));else if(a.getNode(n))y(d,new(h||(h=b("URI")))(e.deleteCommentAndRemoveAuthorURI));else if(a.getNode(s))y(d,new(h||(h=b("URI")))(e.removeTagURI));else if(a.getNode(o))y(d,new(h||(h=b("URI")))(e.hideCommentURI));else if(a.getNode(p))y(d,new(h||(h=b("URI")))(e.groupMuteCommenterInfo.URI));else if(a.getNode(q)){var f=new(h||(h=b("URI")))(e.reportCommentURI);e.commentID!=null&&b("MFRXWebFunnelLogger").get("begin_frx_flow",e.commentID).setFunnelTags(b("MFRXWebFunnelLogger").createFunnelTagList("comment",e.commentID,"permalink")).log();e.reportIsModalDialog?z(d,f):y(d,f)}else a.getNode(i)&&(e.banUserFromPageURIParams&&b("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(e.banUserFromPageURIParams.pageID,e.banUserFromPageURIParams.userID,e.banUserFromPageURIParams.userName,function(){t=!0})},"MCommentActionsFlyout"));c.layer.hide();a.kill()}var D,E;function a(a){if(D)return;D=a;var c=a.getRoot();b("Stratcom").addSigil(c,r);E=[b("Stratcom").listen("m:page:unload",null,function(){while(E.length>0)E.pop().remove();D=null}),a.addListener("beforeshow",A,a),b("DOM").listen(c,"click",null,C)]}}),null);
__d("MUFICommentLikeLink",["DOM","MLiveData","MUFIReactionsUtils","MUFIRequest","Stratcom","Style","SubscriptionsHandler","UFIReactionTypes"],(function(a,b,c,d,e,f){a=function(){function a(a){this.likeLink=a.likeLink,this.requestID=a.requestID,this.feedbackTargetID=a.feedbackTargetID,this.feedbackTarget=b("MLiveData").get(a.feedbackTargetID),this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(b("DOM").listen(this.likeLink,"click",null,this.onClick.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this))),this.likeLink.href&&(this.likeLink.setAttribute("data-uri",this.likeLink.href),this.likeLink.removeAttribute("href"))}var c=a.prototype;c.onChange=function(){if(this.feedbackTarget.getData().request_id===this.requestID)return;var a=this.feedbackTarget.getData();a=a.viewerreaction;a&&!b("UFIReactionTypes").reactions[a]&&(a=null);var c,d;!a?(c="",d=b("UFIReactionTypes").reactions[b("UFIReactionTypes").LIKE].display_name):(c=b("UFIReactionTypes").reactions[a].color,d=b("UFIReactionTypes").reactions[a].display_name);b("DOM").setContent(this.likeLink,d);b("Style").set(this.likeLink,"color",c)};c.onClick=function(a){a.prevent();var c=this.feedbackTarget.getData(),d=c.has_viewer_liked,e=(c.comment_id||c.ft_ent_identifier).split("_")[1],f=d?b("UFIReactionTypes").NONE:b("UFIReactionTypes").LIKE,g=a.getNode("tag:a");g||(g=a.getNode("tag:div"));if(!g)return;b("Stratcom").hasSigil(this.likeLink,"kaios-like-react-trigger")&&d&&a.stop();d=b("MUFIRequest").getURI(g.getAttribute("href")||g.getAttribute("data-uri"));d.addQueryData("reaction_comment_id",e);d.addQueryData("viewer_reaction",f);b("MUFIRequest").send(this.feedbackTargetID,b("MUFIReactionsUtils").getReactionDataForComment(c,f),d)};c.onUnload=function(){this.subscriptions&&this.subscriptions.release()};return a}();e.exports=a}),null);
__d("MUFICommentReactionBadge",["cx","CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","createIxElement"],(function(a,b,c,d,e,f,g){var h=3,i=16,j=b("UFIReactionTypes").ordering.reduce(function(a,b,c){a[b]=c;return a},{});a=function(){function a(a){this.feedbackTarget=b("MLiveData").get(a.feedbackTargetID),this.reactionBadge=a.reactionBadge,this.requestID=a.requestID,this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(this.feedbackTarget.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var c=a.prototype;c.onChange=function(){if(this.feedbackTarget.getData().request_id===this.requestID)return;var a=this.feedbackTarget.getData(),c=a.reactioncountmap,d=b("UFIReactionTypes").ordering.filter(function(a){a=c[a];return a&&a["default"]>0}).sort(function(a,b){var d=c[a]["default"],e=c[b]["default"];return d===e?j[a]-j[b]:e-d}).slice(0,h).map(function(a,c){c=b("createIxElement")(b("UFIReactionIcons")[a][i]);a=b("DOM").create("span",{className:"_4edl"});b("DOM").appendContent(a,c);return a});b("CSS").conditionClass(this.reactionBadge,"_4edm",!!a.reactioncount);b("DOM").setContent(this.reactionBadge.firstChild,d);b("DOM").setContent(this.reactionBadge.lastChild,a.reactioncountreduced)};c.onUnload=function(){this.subscriptions&&this.subscriptions.release()};return a}();e.exports=a}),null);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["cx","Bootloader","DOM","MLiveData","MParent","MRequest","Stratcom","SubscriptionsHandler","XLiveCommentRenderController"],(function(a,b,c,d,e,f,g){"use strict";var h="feed-ufi-comments",i="m-ufi";a=function(){function a(a,c){this.rootElement=a,this.activityElement=b("DOM").create("div",{className:"_623b"}),this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling),this.fetchedComments={},this.feedbackTargetID=c,this.feedbackTarget=b("MLiveData").get(this.feedbackTargetID),this.liveTypersCount=null,this.handler=new(b("SubscriptionsHandler"))(),this.handler.addSubscriptions(b("Stratcom").listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this))),this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}var c=a.prototype;c.initTypingIndicatorSubscription=function(){var a=this;b("Bootloader").loadModules(["MUFICommentTypingSubscriptionController"],function(b){b=new b(a.feedbackTargetID,function(b){a.liveTypersCount=b,a.updateActivityUI()});b.didSubscribe()&&a.handler.addSubscriptions(b)},"MUFILiveComments")};c.onNewComment=function(a){var c=this;a=a.getData();var d=a.feedbackTargetID,e=a.commentToken;if(d!==this.feedbackTargetID)return;var f=this.feedbackTarget.getData();if(!this.fetchedComments[e]){a=b("XLiveCommentRenderController").getURIBuilder().getURI();a=new(b("MRequest"))(a);a.setData({comment_token:e,dom_append_id:this.rootElement.id});a.listen("postprocess",function(){var a=f.comments||[];a.push(e);b("MLiveData").update(d,{comments:a});c.updateActivityUI(f.logging_interaction_key)});a.send();this.fetchedComments[e]=!0}};c.getIsCommentFlyout=function(){return!!b("MParent").bySigil(this.rootElement,h)};c.getCommentElement=function(a){a=a&&a.split("_")[1];return a?document.getElementById(a):null};c.updateActivityUI=function(a){b("Bootloader").loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(c,d){var e=this.feedbackTarget.getData();c(d,this.activityElement,{comments:e.comments||[],feedbackTargetID:this.feedbackTargetID,isAnyLiveTyping:this.liveTypersCount&&this.liveTypersCount>0,disablePill:this.getIsCommentFlyout()});c=e.logging_interaction_key;d=c?[c]:[];a&&a!==c&&d.push(a);b("Stratcom").invoke("m:ufi:live-comments:render",null,{ufi:b("MParent").bySigil(this.rootElement,i),logKeys:d})}.bind(this),"MUFILiveComments")};c.onUnload=function(){this.handler.release(),this.liveTypersCount=null};return a}();e.exports=a}),null);
__d("MUFISutro",["cx","CSS"],(function(a,b,c,d,e,f,g){"use strict";f.commentRepliesExpanded=a;function a(a){a=document.getElementById(a);a&&b("CSS").addClass(a,"_2a_l")}}),null);
__d("MUfiNewCommentScroll",["DOM","MViewport","$","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){a=function(a){var c=!0;if(!window.FW_ENABLED){var d=b("DOM").scry(document,"*","m-composer");c=d&&d.length<=1}if(c&&!!a.commentID){var e=b("$")(a.commentID);b("setTimeoutAcrossTransitions")(function(){b("MViewport").scrollToNode(e)},0)}};f.main=a}),null);
__d("MActionBubbleLayout",["cx","CSS"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=null,this.$2=a}var c=a.prototype;c.enable=function(){this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};c.disable=function(){this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};c.$3=function(){var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};c.$4=function(a){var c=this.$2;c.setWidth(a?"auto":"wide");c.applyWidth();b("CSS").conditionClass(c.getRoot(),"_55i0",a)};return a}();e.exports=a}),null);
__d("isKeyActivation",["Keys"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=0,d=a.charCode;a=a.keyCode;d!=null&&d!==0?c=d:a!=null&&a!==0&&(c=a);return[b("Keys").RETURN,b("Keys").SPACE].includes(c)}}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c,d;return d=c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var a;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a=c.call.apply(c,[this].concat(e))||this;a.$2=function(c){b("isKeyActivation")(c)&&(c.preventDefault(),c.stopPropagation(),a.$1&&a.$1.click())};a.$3=function(b){a.$1=b};a.$1=null;return a}var e=d.prototype;e.render=function(){return g.jsx(a,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3}))};return d}(g.Component),c.displayName="KeyActivationToClickHOC",d}}),null);
__d("emptyObject",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;e.exports=b}),null);
__d("shallowEqual",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=Object.prototype.hasOwnProperty;function h(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function a(a,b){if(h(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var d=0;d<c.length;d++)if(!g.call(b,c[d])||!h(a[c[d]],b[c[d]]))return!1;return!0}}),null);
__d("ShimButton.react",["KeyActivationToClickHOC.react","React","emptyFunction","killswitch","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.keyActivationToClickRef(a),c.props.onRef(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.form,e=a.inline,f=a.keyActivationToClickEvent;a.keyActivationToClickRef;a.onRef;var h=a.pressed;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef","pressed"]);e=e?"span":"div";d==="link"&&(e="a");f=(d={},d[b("killswitch")("SHIM_BUTTON_USE_ONKEYDOWN_INSTEAD_OF_ONKEYPRESS")?"onKeyPress":"onKeyDown"]=f,d);return g.jsx(e,babelHelpers["extends"]({},a,{"aria-pressed":h,ref:this.$1,role:"button"},f,{children:c}))};return c}(g.Component);a.defaultProps={form:"none",inline:!1,keyActivationToClickEvent:c=b("emptyFunction"),keyActivationToClickRef:c,onClick:c,onRef:c,tabIndex:"0"};a.propTypes={children:(d=b("prop-types")).any,form:d.oneOf(["none","link"]),inline:d.bool,tabIndex:d.oneOf(["-1","0",-1,0]),onClick:d.func,onRef:d.func};e.exports=b("KeyActivationToClickHOC.react")(a)}),null);
__d("fbjs/lib/emptyObject",["emptyObject"],(function(a,b,c,d,e,f){"use strict";e.exports=b("emptyObject")}),null);
__d("create-react-class/factory",["fbjs/lib/emptyObject","fbjs/lib/invariant","object-assign","fbjs/lib/warning"],(function(a,b,c,d,e,f){"use strict";var g="mixins";function h(a){return a}c={};function a(a,c,d){var e=[],f={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},j={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)m(a,b[c])},childContextTypes:function(a,c){a.childContextTypes=b("object-assign")({},a.childContextTypes,c)},contextTypes:function(a,c){a.contextTypes=b("object-assign")({},a.contextTypes,c)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=p(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,c){a.propTypes=b("object-assign")({},a.propTypes,c)},statics:function(a,b){n(a,b)},autobind:function(){}};function k(a,b,c){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)}function l(a,c){var d=Object.prototype.hasOwnProperty.call(f,c)?f[c]:null;Object.prototype.hasOwnProperty.call(v,c)&&b("fbjs/lib/invariant")(d==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",c);a&&b("fbjs/lib/invariant")(d==="DEFINE_MANY"||d==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c)}function m(a,d){if(!d)return;b("fbjs/lib/invariant")(typeof d!=="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object.");b("fbjs/lib/invariant")(!c(d),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var e=a.prototype,h=e.__reactAutoBindPairs;Object.prototype.hasOwnProperty.call(d,g)&&j.mixins(a,d.mixins);for(var i in d){if(!Object.prototype.hasOwnProperty.call(d,i))continue;if(i===g)continue;var k=d[i],m=Object.prototype.hasOwnProperty.call(e,i);l(m,i);if(Object.prototype.hasOwnProperty.call(j,i))j[i](a,k);else{var n=Object.prototype.hasOwnProperty.call(f,i),o=typeof k==="function";o=o&&!n&&!m&&d.autobind!==!1;if(o)h.push(i,k),e[i]=k;else if(m){o=f[i];b("fbjs/lib/invariant")(n&&(o==="DEFINE_MANY_MERGED"||o==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",o,i);o==="DEFINE_MANY_MERGED"?e[i]=p(e[i],k):o==="DEFINE_MANY"&&(e[i]=q(e[i],k))}else e[i]=k}}}function n(a,c){if(!c)return;for(var d in c){var e=c[d];if(!Object.prototype.hasOwnProperty.call(c,d))continue;var f=d in j;b("fbjs/lib/invariant")(!f,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',d);f=d in a;if(f){f=Object.prototype.hasOwnProperty.call(i,d)?i[d]:null;b("fbjs/lib/invariant")(f==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",d);a[d]=p(a[d],e);return}a[d]=e}}function o(a,c){b("fbjs/lib/invariant")(a&&c&&typeof a==="object"&&typeof c==="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(b("fbjs/lib/invariant")(a[d]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",d),a[d]=c[d]);return a}function p(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(c==null)return d;else if(d==null)return c;var e={};o(e,c);o(e,d);return e}}function q(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function r(a,b){b=b.bind(a);return b}function s(a){var b=a.__reactAutoBindPairs;for(var c=0;c<b.length;c+=2){var d=b[c],e=b[c+1];a[d]=r(a,e)}}var t={componentDidMount:function(){this.__isMounted=!0}},u={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a,b)},isMounted:function(){return!!this.__isMounted}},w=function(){};b("object-assign")(w.prototype,a.prototype,v);function k(a){var c=h(function(a,e,f){this.__reactAutoBindPairs.length&&s(this);this.props=a;this.context=e;this.refs=b("fbjs/lib/emptyObject");this.updater=f||d;this.state=null;a=this.getInitialState?this.getInitialState():null;b("fbjs/lib/invariant")(typeof a==="object"&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",c.displayName||"ReactCompositeComponent");this.state=a});c.prototype=new w();c.prototype.constructor=c;c.prototype.__reactAutoBindPairs=[];e.forEach(m.bind(null,c));m(c,t);m(c,a);m(c,u);c.getDefaultProps&&(c.defaultProps=c.getDefaultProps());b("fbjs/lib/invariant")(c.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var g in f)c.prototype[g]||(c.prototype[g]=null);return c}return k}e.exports=a}),null);
__d("create-react-class",["create-react-class/factory","react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");if(typeof a==="undefined")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");c=new a.Component().updater;e.exports=b("create-react-class/factory")(a.Component,a.isValidElement,c)}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("PhotosUploadWaterfallXMixin",["invariant","AsyncSignal","Banzai","PhotosUploadWaterfallXConfig","randomInt"],(function(a,b,c,d,e,f,g){var h=new Map();function i(a,c){var d={};a.client_time=Math.round(Date.now()/1e3);b("PhotosUploadWaterfallXConfig").retryBanzai&&(d.retry=!0,a.nonce=b("randomInt")(4294967296));b("Banzai").post(b("PhotosUploadWaterfallXConfig").banzaiRoute,a,d);c&&setTimeout(c,0)}function j(a,c){if(b("PhotosUploadWaterfallXConfig").useBanzai)i(a,c);else{a=new(b("AsyncSignal"))(b("PhotosUploadWaterfallXConfig").loggingEndpoint,{data:JSON.stringify(a)}).setHandler(c);b("PhotosUploadWaterfallXConfig").timeout&&a.setTimeout(10*1e3);a.send()}}e.exports={logStep:function(a,b,c){var d=this.getWaterfallID&&this.getWaterfallID(),e=this.getWaterfallAppName&&this.getWaterfallAppName();if(!d||!e)return;j(babelHelpers["extends"]({step:a,qn:d,uploader:e,ref:this.getWaterfallSource&&this.getWaterfallSource()},b),c)},logPUWStep:function(a,b,c,d,e,f,g){if(f&&f.logOncePerSession){h.has(b)||h.set(b,new Set());if(h.get(b).has(a))return;h.get(b).add(a)}j(Object.assign({step:a,qn:b,uploader:c,ref:d},e),g)}}}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}}),null);
__d("ReactComponentWithPureRenderMixin",["shallowCompare"],(function(a,b,c,d,e,f){"use strict";a={shouldComponentUpdate:function(a,c){return b("shallowCompare")(this,a,c)}};c=a;e.exports=c}),null);
__d("createReactClass_DEPRECATED",["create-react-class"],(function(a,b,c,d,e,f){"use strict";e.exports=b("create-react-class")}),null);